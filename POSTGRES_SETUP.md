# คู่มือการติดตั้งและตั้งค่า PostgreSQL สำหรับ MASAPP

เพื่อให้โปรแกรมรองรับการใช้งานพร้อมกันหลายเครื่อง (3+ เครื่อง) โดยไม่เกิดปัญหา Database Lock เราจะเปลี่ยนจาก SQLite มาใช้ PostgreSQL เป็นฐานข้อมูลกลางครับ

## 1. การติดตั้ง PostgreSQL
1. ดาวน์โหลดตัวติดตั้งจาก: [PostgreSQL Downloads](https://www.postgresql.org/download/windows/)
2. รันตัวติดตั้งและทำตามขั้นตอน (Next ไปเรื่อยๆ)
3. **สำคัญ**: ในขั้นตอนกำหนดรหัสผ่านของ `postgres` ให้ตั้งเป็น: `admin1234` (เพื่อให้ตรงกับที่กำหนดไว้ในโปรแกรม)
4. กด Next จนติดตั้งเสร็จ

## 2. การสร้าง Database
1. เปิดโปรแกรม **pgAdmin 4** (ติดมากับการลง PostgreSQL)
2. Login ด้วยรหัสผ่าน `admin1234`
3. คลิกขวาที่ **Databases** -> **Create** -> **Database...**
4. ช่อง Name ให้ใส่ว่า: `masapp_db`
5. กด **Save**

## 3. การเตรียมโปรแกรม MASAPP
1. ตรวจสอบไฟล์ `config.ini` ในโฟลเดอร์โปรแกรม ต้องมีบรรทัดนี้:
   ```ini
   url = postgresql://postgres:admin1234@localhost:5432/masapp_db
   ```
2. หาก Server อยู่คนละเครื่องกับโปรแกรม ให้เปลี่ยน `localhost` เป็น IP ของเครื่อง Server (เช่น `192.168.1.50`)

## 4. การย้ายข้อมูล (Migration)
หลังจากทำข้อ 1-3 เสร็จแล้ว ให้เปิด Terminal ในโฟลเดอร์โปรแกรมแล้วรันคำสั่งนี้เพื่อย้ายข้อมูลจากไฟล์เดิมเข้า Server ครับ:
```bash
python migrate_to_postgres.py
```

เมื่อทำขั้นตอนนี้สำเร็จ คุณจะสามารถเปิดโปรแกรมพร้อมกันหลายเครื่องได้ทันทีครับ!
